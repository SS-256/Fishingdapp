<!DOCTYPE html>
<html>
<head>
  <title>タイピングゲーム</title>
</head>
<body>
  <h1>タイピングゲーム</h1>
  <p id="quote"></p>
  <input type="text" id="inputBox" oninput="checkInput()" />
  <p id="result"></p>

  <script>
    const quotes = [
      "The quick brown fox jumps over the lazy dog.",
      "Simplicity is the ultimate sophistication.",
      "Where there is love there is life.",
      "Be yourself; everyone else is already taken.",
      "In three words I can sum up everything I've learned about life: it goes on.",
    ];

    let currentQuote = 0;
    let startTime;

    function startGame() {
      currentQuote = 0;
      showQuote();
      startTime = new Date().getTime();
      document.getElementById("result").innerHTML = "";
      document.getElementById("inputBox").value = "";
      document.getElementById("inputBox").focus();
    }

    function showQuote() {
      document.getElementById("quote").innerHTML = quotes[currentQuote];
    }

    function checkInput() {
      const inputText = document.getElementById("inputBox").value;
      const currentText = quotes[currentQuote].substr(0, inputText.length);

      if (inputText === quotes[currentQuote]) {
        const endTime = new Date().getTime();
        const timeTaken = (endTime - startTime) / 1000;
        const wpm = Math.round((quotes[currentQuote].split(" ").length / timeTaken) * 60);

        document.getElementById("result").innerHTML = `終了！タイム: ${timeTaken}秒, WPM: ${wpm}`;
        currentQuote++;

        if (currentQuote < quotes.length) {
          showQuote();
          startTime = new Date().getTime();
          document.getElementById("inputBox").value = "";
        } else {
          document.getElementById("quote").innerHTML = "すべてのテキストをクリアしました！";
        }
      } else {
        if (inputText === currentText) {
          document.getElementById("quote").style.color = "black";
        } else {
          document.getElementById("quote").style.color = "red";
        }
      }
    }

    startGame(); // ゲームを開始する
  </script>
</body>
</html>
